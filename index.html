<!DOCTYPE html><html class=''>
<head>
    <meta charset='UTF-8'>
    <meta name="robots" content="noindex">
    <title>The Experiment Factory: Adaptive N-Back</title>
    
<link rel='stylesheet' type='text/css' href='jspsych.css'>
<link rel='stylesheet' type='text/css' href='default_style.css'>
<link rel='stylesheet' type='text/css' href='style.css'>
</head>

<body>
<script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.4.1/math.min.js'></script>
<script src='jspsych/jspsych.js'></script>
<script src='jspsych/plugins/jspsych-text.js'></script>
<script src='jspsych/poldrack_plugins/jspsych-poldrack-text.js'></script>
<script src='jspsych/poldrack_plugins/jspsych-poldrack-instructions.js'></script>
<script src='jspsych/poldrack_plugins/jspsych-attention-check.js'></script>
<script src='jspsych/poldrack_plugins/jspsych-poldrack-single-stim.js'></script>
<script src='jspsych/poldrack_plugins/jspsych-poldrack-categorize.js'></script>
<script src='jspsych/plugins/jspsych-survey-text.js'></script>
<script src='jspsych/plugins/jspsych-call-function.js'></script>
<script src='jspsych/poldrack_plugins/poldrack_utils.js'></script>
<script src='experiment.js'></script>

<script>
$( document ).ready(function() {

    jsPsych.init({
             timeline: adaptive_n_back_experiment,
             display_element: "getDisplayElement",
             fullscreen: true,
             on_trial_finish: function(data){
               addID('adaptive-n-back')
             },
             on_finish: function(data){
                 var promise = new Promise(function(resolve, reject) {
                     var data = jsPsych.data.dataAsJSON();
                     resolve(data);
                 })
                 promise.then(function(data) {
                     $.post("/save", {data: data}, function(){
                        document.location = "/next";
                     })
                 }, function(err) {
                      console.log(err);
                       jsPsych.data.localSave('adaptive-n-back_results.csv', 'csv');
                 });
             }
            });
});
</script>
</body>
</html>
